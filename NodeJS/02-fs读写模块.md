# fs 读写模块

## 1. 注意：这里使用的是 Promise 风格的 API，返回一个 Promise，不接受回调函数

```js
import { readFile, writeFile, appendFile } from "node:fs/promises";
```

- 读取文件 `readFile(url, 'utf8')`
- 写入文件 `writeFile(url, data, 'utf8')`
- 追加内容 `appendFile(url, data, 'utf8')`

```js
const data = await readFile("./data.json", "utf8");
await writeFile("./data2.txt", "hello", "utf8");
await appendFile("./data2.txt", " world", "utf8");
console.log("done"); // 写入完成后打印done
console.log(data);
```

## 2. 回调函数风格

```js
import { readFile, writeFile, appendFile } from "node:fs";
```

- 读取文件 `readFile(url, 'utf8', 回调函数)`
- 写入文件 `writeFile(url, data, 'utf8', 回调函数)`
- 追加内容 `appendFile(url, data, 'utf8', 回调函数)`

```js
import { readFile } from "node:fs";

readFile("./data.json", "utf8", (err, data) => {
  if (err) {
    console.error(err);
    return;
  }
  console.log(data);
});
```
